<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø¥Ø¯Ø§Ø±Ø© ØªØ®Ø²ÙŠÙ† localStorage</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"  rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9fafb;
      padding: 2rem;
    }
    .storage-view {
      height: 400px;
      overflow-y: auto;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body class="min-h-screen bg-gray-50">
  <h1 class="text-3xl font-bold text-indigo-600 mb-4">Ø¥Ø¯Ø§Ø±Ø© ØªØ®Ø²ÙŠÙ† localStorage</h1>

  <!-- Buttons -->
  <div class="mb-4">
    <button 
      onclick="showStorageData()" 
      class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded transition duration-300"
    >
      ğŸ“‚ Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    </button>
    <button 
      onclick="clearStorage()" 
      class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-300"
    >
      âŒ Ù…Ø³Ø­ Ø§Ù„ØªØ®Ø²ÙŠÙ†
    </button>
    <button 
      onclick="saveChanges()" 
      class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition duration-300"
    >
      ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
    </button>
  </div>

  <!-- Storage Viewer -->
  <textarea 
    id="storageData" 
    class="w-full h-64 p-3 border border-gray-300 rounded shadow focus:outline-none focus:ring-2 focus:ring-indigo-500"
    placeholder="Ø³ÙŠØ¸Ù‡Ø± Ù…Ø­ØªÙˆÙ‰ localStorage Ù‡Ù†Ø§..."
    readonly
  ></textarea>

  <!-- Editing Area -->
  <div class="mt-4">
    <h3 class="text-lg font-medium text-gray-800 mb-2">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ÙƒÙˆØ¯ JSON):</h3>
    <textarea 
      id="editedData" 
      class="w-full h-64 p-3 border border-gray-300 rounded shadow focus:outline-none focus:ring-2 focus:ring-indigo-500"
      placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙØ¹Ø¯Ù‘Ù„Ø© Ù‡Ù†Ø§..."
    ></textarea>
  </div>

  <script>
    // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    function showStorageData() {
      const storageData = {};
      const keysToIgnore = ['__debug__', 'sessionStorage']; // ØªØ¬Ø§Ù‡Ù„ Ù…ÙØ§ØªÙŠØ­ ØºÙŠØ± Ù…Ù‡Ù…Ø©

      for (const key of Object.keys(localStorage)) {
        if (!keysToIgnore.includes(key)) {
          try {
            storageData[key] = JSON.parse(localStorage.getItem(key));
          } catch (e) {
            storageData[key] = localStorage.getItem(key);
          }
        }
      }

      const displayArea = document.getElementById('storageData');
      displayArea.value = JSON.stringify(storageData, null, 2);
      displayArea.removeAttribute('readonly'); // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø±ÙŠØ± Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ø±Ø¶
    }

    // Ø¯Ø§Ù„Ø© Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª
    function saveChanges() {
      const editedJson = document.getElementById('editedData').value;
      try {
        const newData = JSON.parse(editedJson);
        for (const key in newData) {
          localStorage.setItem(key, JSON.stringify(newData[key]));
        }
        alert('âœ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§!');
      } catch (e) {
        alert('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ†Ø³ÙŠÙ‚ JSON! Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØµÙŠØ§ØºØ© Ø§Ù„ØµØ­ÙŠØ­Ø©.');
      }
    }

    // Ø¯Ø§Ù„Ø© Ù…Ø³Ø­ Ø§Ù„ØªØ®Ø²ÙŠÙ†
    function clearStorage() {
      if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ')) return;
      localStorage.clear();
      alert('ØªÙ… Ø§Ù„Ù…Ø³Ø­!');
    }
  </script>
</body>
</html>
