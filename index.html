<DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>📚 PromptBase AR - Mn.Gpt</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8faff;
      color: #222;
      font-family: 'Segoe UI', sans-serif;
      padding: 1rem;
    }
    .tag {
      display: inline-block;
      background-color: #e0f0ff;
      border-radius: 20px;
      padding: 0.4rem 1rem;
      margin: 0.3rem;
      cursor: pointer;
      font-size: 0.9rem;
    }
    .tag.dev { background-color: #cfe9ff; color: #004e89; }
    .tag.edu { background-color: #dbf5d3; color: #33691e; }
    .tag.creative { background-color: #f0e2ff; color: #6a1b9a; }
    .popup {
      position: fixed;
      top: 20%;
      right: 20%;
      left: 20%;
      background-color: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(0,0,0,0.1);
      z-index: 1000;
      display: none;
    }
    .popup textarea {
      width: 100%;
      min-height: 120px;
    }
    .overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: 999;
      display: none;
    }
    footer { text-align: center; font-size: 0.8rem; color: #777; margin-top: 2rem; }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="text-primary text-center mb-4">📚 PromptBase AR</h1>
    <p class="text-center">منصة Mn.Gpt لتوثيق وتجريب البرومبتات العربية بذكاء وتصنيف مرن.</p><div class="text-end mb-3">
  <button class="btn btn-outline-primary" onclick="showPopup()">➕ إضافة برومبت</button>
</div>

<div class="d-flex flex-wrap" id="tagList"></div>

  </div>  <div class="overlay" id="overlay" onclick="hidePopup()"></div>
  <div class="popup" id="popup">
    <h5 class="mb-3">برومبت جديد</h5>
    <textarea id="promptInput" placeholder="اكتب البرومبت هنا..."></textarea>
    <div class="my-3">
      <label>اختر النوع:</label>
      <select id="promptType" class="form-select">
        <option value="dev">تطويري</option>
        <option value="edu">تعليمي</option>
        <option value="creative">إبداعي</option>
      </select>
    </div>
    <div class="d-flex justify-content-between">
      <button class="btn btn-success" onclick="addPrompt()">💾 حفظ</button>
      <button class="btn btn-warning" onclick="editPrompt()" style="display:none;">✏️ تعديل</button>
      <button class="btn btn-danger" onclick="deletePrompt()" style="display:none;">🗑️ حذف</button>
      <button class="btn btn-secondary" onclick="hidePopup()">❌ إلغاء</button>
    </div>
  </div>  <footer>تجربة Mn.Gpt © 2025</footer>  <script>
    let prompts = [];
    let currentIndex = null;

    function showPopup(index) {
      if (index !== undefined) {
        currentIndex = index;
        const p = prompts[index];
        document.getElementById('promptInput').value = p.text;
        document.getElementById('promptType').value = p.type;
        document.querySelector(".btn-success").style.display = 'none';
        document.querySelector(".btn-warning").style.display = 'inline-block';
        document.querySelector(".btn-danger").style.display = 'inline-block';
      } else {
        currentIndex = null;
        document.getElementById('promptInput').value = '';
        document.getElementById('promptType').value = 'dev';
        document.querySelector(".btn-success").style.display = 'inline-block';
        document.querySelector(".btn-warning").style.display = 'none';
        document.querySelector(".btn-danger").style.display = 'none';
      }
      document.getElementById('popup').style.display = 'block';
      document.getElementById('overlay').style.display = 'block';
    }

    function hidePopup() {
      document.getElementById('popup').style.display = 'none';
      document.getElementById('overlay').style.display = 'none';
    }

    function addPrompt() {
      const text = document.getElementById('promptInput').value.trim();
      const type = document.getElementById('promptType').value;
      if (text) {
        prompts.push({ text, type });
        renderTags();
        hidePopup();
      }
    }

    function editPrompt() {
      const text = document.getElementById('promptInput').value.trim();
      const type = document.getElementById('promptType').value;
      if (text && currentIndex !== null) {
        prompts[currentIndex] = { text, type };
        renderTags();
        hidePopup();
      }
    }

    function deletePrompt() {
      if (currentIndex !== null) {
        prompts.splice(currentIndex, 1);
        renderTags();
        hidePopup();
      }
    }

    function renderTags() {
      const container = document.getElementById('tagList');
      container.innerHTML = '';
      prompts.forEach((p, i) => {
        const tag = document.createElement('div');
        tag.className = 'tag ' + p.type;
        tag.innerText = `[${typeLabel(p.type)}] ${p.text.substring(0, 20)}...`;
        tag.onclick = () => showPopup(i);
        container.appendChild(tag);
      });
    }

    function typeLabel(type) {
      return type === 'dev' ? 'تطويري' : type === 'edu' ? 'تعليمي' : 'إبداعي';
    }
  </script></body>
</html>
